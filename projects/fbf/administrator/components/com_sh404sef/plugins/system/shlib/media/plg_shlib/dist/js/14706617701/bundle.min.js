/*! Copyright Weeblr llc 2016 - Licence: http://www.gnu.org/copyleft/gpl.html GNU/GPL */
var shlBootstrap=shlBootstrap||function(e){var t={updateBootstrap:function(){e("*[rel=tooltip]").tooltip(),e("select").chosen({disable_search_threshold:10,allow_single_deselect:!0}),e(".radio.btn-group label").addClass("btn"),e(".btn-group label:not(.active)").click(function(){var t=e(this),r=e("#"+t.attr("for"));r.prop("checked")||(t.closest(".btn-group").find("label").removeClass("active btn-success btn-danger btn-primary"),""==r.val()?t.addClass("active btn-primary"):0==r.val()?t.addClass("active btn-danger"):t.addClass("active btn-success"),r.prop("checked",!0))}),e(".btn-group input[checked=checked]").each(function(){""==e(this).val()?e("label[for="+e(this).attr("id")+"]").addClass("active btn-primary"):0==e(this).val()?e("label[for="+e(this).attr("id")+"]").addClass("active btn-danger"):e("label[for="+e(this).attr("id")+"]").addClass("active btn-success")})},canOpenModal:!0,modals:{},modalTemplate:"<div class='shmodal hide ' id='{%selector%}'><div class='shmodal-header'><button type='button' class='close' data-dismiss='modal'>Ã—</button>{%title%}</div><div id='{%selector%}-container'></div></div>",selectedIdsUrl:"",setSelectedIdsUrl:function(e){shlBootstrap.selectedIdsUrl=e},getModalUrl:function(e){return e+shlBootstrap.selectedIdsUrl},closeModal:function(){var t=e("div.shmodal-header button.close");t.click()},setModalTitleFromModal:function(e){var t=window.parent.jQuery("div.shmodal-header:visible");t.html("<h3>"+e+"</h3>")},registerModal:function(t){var r={};r=e.extend({selector:"",title:"",url:"",width:.5,height:.5,onclose:"",footer:"",content:"",onDisplay:"",backdrop:!0,keyboard:!1},t),shlBootstrap.modals[r.selector]=r},renderModal:function(t,r){var a=shlBootstrap.modalTemplate.replace(new RegExp("{%selector%}","g"),r.selector),o=r.title?"<h3>"+r.title+"</h3>":"&nbsp;";a=a.replace("{%title%}",o),e(a).appendTo("#shl-modals-container"),e("#"+r.selector).on("show",function(){if(!shlBootstrap.canOpenModal)return!1;var t,r=shlBootstrap.modals[this.id],a=r.width<1?e(window).width()*r.width:r.width,o=r.height<1?e(window).height()*r.height:r.height,n=shlBootstrap.getModalUrl(r.url),l=jQuery("#"+r.selector);t=r.content?r.content:'<iframe class="iframe" src="'+n+'" height="'+o+'" width="'+a+'" ></iframe>',jQuery("#"+r.selector+"-container").html('<div class="shmodal-body" style="height:'+o+"px; width:"+a+'px;">'+t+"</div>"+r.footer);var i=l.height(),s=l.width(),d=jQuery(window).height(),c=jQuery(window).width(),h=(c-s)/2,u=(d-i)/2;jQuery("#"+r.selector).css({"margin-top":u,top:"0"}),jQuery("#"+r.selector).css({"margin-left":h,left:"0"}),r.onDisplay&&"function"==typeof window[r.onDisplay]&&window[r.onDisplay](this)}),e("#"+r.selector).on("hide",function(){var e=shlBootstrap.modals[this.id];e.onclose&&e.onclose(),jQuery("#"+this.id+"-container").innerHTML=""}),e("#"+r.selector).modal({keyboard:r.keyboard,backdrop:r.backdrop,show:!1})},renderModals:function(){e.each(shlBootstrap.modals,shlBootstrap.renderModal)},inputCounters:{},registerInputCounter:function(t){var r={maxCharacterSize:-1,originalStyle:"badge-success",warningStyle:"badge-warning",errorStyle:"badge-important",warningNumber:20,errorNumber:40,displayFormat:"#left",style:"shl-char-counter",title:""};t=e.extend(r,t),shlBootstrap.inputCounters[t.selector]=t},renderInputCounters:function(){e.each(shlBootstrap.inputCounters,shlBootstrap.renderInputCounter)},renderInputCounter:function(t,r){e("#"+r.selector).textareaCount(r)},onReady:function(){e("<div id='shl-modals-container'></div>").appendTo("body"),shlBootstrap.renderModals(),shlBootstrap.renderInputCounters()}};return jQuery(document).ready(t.onReady),t}(jQuery);!function(e){e.fn.textareaCount=function(t,r){function a(){return v.html(o()),"undefined"!=typeof r&&r.call(this,l()),!0}function o(){var e=p.val(),r=e.length;if(t.maxCharacterSize>0){r>=t.maxCharacterSize&&(e=e.substring(0,t.maxCharacterSize));var a=d(e),o=t.maxCharacterSize-a;if(s()||(o=t.maxCharacterSize),r>o){var l=this.scrollTop;p.val(e.substring(0,o)),this.scrollTop=l}v.removeClass(t.warningStyle),v.removeClass(t.originalStyle),r>t.errorNumber?v.addClass(t.errorStyle):r>t.warningNumber?v.addClass(t.warningStyle):v.addClass(t.originalStyle),f=p.val().length+a,s()||(f=p.val().length),b=h(c(p.val())),g=t.errorNumber-f}else{var a=d(e);f=p.val().length+a,s()||(f=p.val().length),b=h(c(p.val()))}return n()}function n(){var e=t.displayFormat;return e=e.replace("#input",f),e=e.replace("#words",b),m>0&&(e=e.replace("#max",m),e=e.replace("#left",g)),e}function l(){var e={input:f,max:m,left:g,words:b};return e}function i(e){return e.next(".charleft")}function s(){var e=navigator.appVersion;return-1!=e.toLowerCase().indexOf("win")?!0:!1}function d(e){for(var t=0,r=0;r<e.length;r++)"\n"==e.charAt(r)&&t++;return t}function c(e){var t=e+" ",r=/^[^A-Za-z0-9]+/gi,a=t.replace(r,""),o=rExp=/[^A-Za-z0-9]+/gi,n=a.replace(o," "),l=n.split(" ");return l}function h(e){var t=e.length-1;return t}var u={maxCharacterSize:-1,originalStyle:"originalTextareaInfo",warningStyle:"warningTextareaInfo",errorStyle:"errorTextareaInfo",warningNumber:20,errorNumber:40,displayFormat:"#input characters | #words words",title:""},t=e.extend(u,t),p=e(this);p.wrap("<div class='shl-char-counter-wrapper'></div>"),e("<div class='charleft badge "+t.style+"' "+(t.title?"title='"+t.title+"'":"")+">&nbsp;</div>").insertAfter(p);var v=i(p);v.addClass(t.originalStyle);var f=0,m=t.maxCharacterSize,g=0,b=0;p.bind("keyup",function(e){a()}).bind("mouseover",function(e){setTimeout(function(){a()},10)}).bind("paste",function(e){setTimeout(function(){a()},10)}),a()}}(jQuery);
/*! Copyright Weeblr llc 2016 - Licence: http://www.gnu.org/copyleft/gpl.html GNU/GPL */
!function(e,o,n,s){"use strict;";function t(e){var o=s("#"+e),n=s(o.parent());o.slideUp(200,function(){o.remove();var e=n.children().length;e||n.parent().hide()})}function r(e){e.removeClass("wbl-spin").text("Error").addClass("wb-clr-alert")}function i(e){var o=e.data("element-id"),n=e.data("token"),i={uid:o};i[n]=1;s.post("index.php?option=com_ajax&plugin=shlib&method=removeMsg&format=json",i).done(function(n,s,i){try{"object"!=typeof n&&(n=JSON.parse(n)),"object"==typeof n?n.success?t(o):(console.log("ShLib: Ajax error: "+n.message),r(e)):console.log("wbLib: ajax error: no object in return")}catch(l){console.log("wbLib: ajax error decoding request response: "+l.message),console.debug(n),console.debug(l)}}).fail(function(o,n,s){console.log("wbLib: ajax error: "+n),console.debug(s),r(e)})}function l(e,o){var n=s(this),t=n.attr("id"),r=s("#wbl-msg-body-"+t);0==r.is(":visible")?(r.addClass("wbl-body-visible"),r.slideDown(300)):(r.slideUp(300),r.removeClass("wbl-body-visible"))}function c(e,o){var n=s(this);return n.html("x").addClass("wbl-spin"),i(n),!1}function a(){s(".wbl-msg-button-close").click(c),s(".wbl-container-msg-one-toggle").click(l)}function b(){try{a()}catch(e){console.log("Error setting up message center: "+e.message)}}return s(n).ready(b),e.shlib=e.shlib||{},e.shlib.msgCenter={refreshActions:function(){a()}},e}(window.weeblrApp=window.weeblrApp||{},window,document,jQuery);
/*! Copyright Weeblr llc 2016 - Licence: http://www.gnu.org/copyleft/gpl.html GNU/GPL */
!function(n,e,s,t){"use strict;";function r(n,e){try{var s="#"+(n||"wbl-spinner");if(i[s]&&i[s].count>0)i[s].count+=1;else if(i[s]&&i[s].count<=0)i[s].element.fadeIn();else{var r=t(s);r.length?(r.addClass("wbl-spinner-css"),e&&e["class"]&&r.addClass(e["class"]),i[s]={element:r,count:1},i[s].element.fadeIn()):console.log("Shlib: requested to start a spinner for "+s+" but element not found")}}catch(o){console.log("wbLib: error starting svg spinner: "+o.message)}}function o(n,e){try{var s="#"+(n||"wbl-spinner");if(!i[s])return;e?i[s].count=0:i[s].count-=1,i[s]&&i[s].count<=0&&(i[s].count=0,i[s].element.fadeOut())}catch(t){console.log("wbLib: error stopping svg spinner: "+t.message)}}var i={};return n.spinner=n.spinner||{},n.spinner.start=r,n.spinner.stop=o,n}(window.weeblrApp=window.weeblrApp||{},window,document,jQuery);
/*! Copyright Weeblr llc 2016 - Licence: http://www.gnu.org/copyleft/gpl.html GNU/GPL */
!function(t,i,e,p){"use strict;";function s(i){i=i||u;try{p(i).each(o)}catch(e){console.log("wbLib: error setting up help tips: "+e.message)}return t.tips}function o(i,e){var s=p(e),o="#"+e.id+"-lbl",r=p(o);switch(b){case"popover":var w=r.data("content");w&&(r.off("mouseenter mouseleave"),n(s,w));break;case"tips":var w=r.attr("title");w||(w=r.data("original-title")),w&&(r.removeClass("hasTooltip").attr("title",""),n(s,w));break;default:console.log("wblib: invalid tips mode "+t.tips.tipsMode)}}function n(t,i){var e=p('<span class="wbtip-wrapper"><span type="button" class="wbtip-content">'+r(i)+"</span></span>"),s=t.parent();e.appendTo(s)}function r(t){var i=t.indexOf("<br />");return-1!=i&&(t=t.substr(i+6)),t}function w(i){return u=i,t.tips}function a(i){return b=i,t.tips}function c(t){"show"==t?(p(".wbtip-wrapper").show(),p(".wbtip-switch.wbtip-show").hide(),p(".wbtip-switch.wbtip-hide").show()):(p(".wbtip-wrapper").hide(),p(".wbtip-switch.wbtip-show").show(),p(".wbtip-switch.wbtip-hide").hide())}var u=".wbTip",b="popover";return t.tips=t.tips||{},t.tips.setAutoSetupSelector=w,t.tips.setupTips=s,t.tips.setupTip=o,t.tips.hideTips=c,t.tips.showTips=c,t.tips.setTipsMode=a,t}(window.weeblrApp=window.weeblrApp||{},window,document,jQuery);
